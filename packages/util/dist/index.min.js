!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("qs")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","qs"],t):t((n=n||self).util={},n.React,n.PropTypes,n.qs)}(this,(function(n,t,e,r){"use strict";function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function a(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function u(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?a(Object(e),!0).forEach((function(t){i(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function c(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(n)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}(n,t)||l(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n){return function(n){if(Array.isArray(n))return s(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||l(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,t){if(n){if("string"==typeof n)return s(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(n,t):void 0}}function s(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;formatWan.PropTypes={val:e.number.isRequired};var p=function(n){return 1*n<10?"0".concat(n):n};function d(n,t){n===t&&console.warn("Two path are equal!");var e=n.split("/"),r=t.split("/");return r.every((function(n,t){return n===e[t]}))?1:e.every((function(n,t){return n===r[t]}))?2:3}p.PropTypes={val:e.number.isRequired};var y=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/;var v=function(n){return function(t){return null!=t&&Object.prototype.toString.call(t)==="[object ".concat(n,"]")}},h=v("Function"),m=Array.isArray||v("Array"),b=v("Object"),g=v("String"),O=v("Boolean"),j=v("Number"),w=function(n){return"object"===o(n)},x=v("RegExp"),S=function(n){if(!n&&!j(n))return!0};function E(n,t){var e=n.indexOf("_"),r=n.lastIndexOf("/");if("string"!=typeof n)return n;if(e<0)return n.substring(r+1);var o=n.substring(n.lastIndexOf(".")),i=n.lastIndexOf("_"),a=n.substring(r+1,i);return 1*t!=4?a+o.substring(0,o.indexOf("?")):a+o}function P(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return g(n)?n.replace(/^\s+|\s+$/g,""):n}function A(n,t){if(!n||!n.length)return n;var e={};return n.forEach((function(n){e[n[t]]=n})),e}function k(n,t){if(!n)return n;var e={},r=!0,o=m(t);return Object.keys(n).forEach((function(i,a){var u=n[i];if(o){var c=!0;if(u.name){var f,s=function(n,t){var e;if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=l(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0,o=function(){};return{s:o,n:function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}},e:function(n){throw n},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return a=n.done,n},e:function(n){u=!0,i=n},f:function(){try{a||null==e.return||e.return()}finally{if(u)throw i}}}}(t);try{for(s.s();!(f=s.n()).done;){if(!u[f.value]){c=!1;break}}}catch(n){s.e(n)}finally{s.f()}}c&&(u.name&&r?e[u.name||i]=u.value:u.name&&!r?e[i]=u.value:(r=!1,e[u.name||i]=k(u)))}else u.name&&r?e[i]=u.value:(r=!1,e[u.name||i]=k(e[i]))})),e}function F(n){return JSON.parse(JSON.stringify(n))}function T(n){return null===n?n:n/100}var I=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!n)return n;var e={},r=F(n);return t.forEach((function(n,t){e[n]=r[n]})),e},N=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(m(n))return n.map((function(n){return I(n,t)}))};n.FormatWan=function(n){var e=n.val,r=1*e;if(!r||Number.isNaN(r))return t.createElement("span",null,r," is NaN");var o=e;return e>1e4&&(o=Math.floor(e/1e4),o=t.createElement("span",null,o,t.createElement("span",{style:{position:"relative",top:-2,fontSize:14,fontStyle:"normal",marginLeft:2}},"万"))),o},n.MinuteToyuan=T,n.StoriesDiv=function(n){var e=n.child;n.prop;return t.createElement("div",null,e)},n.YuanAndMinuteReverse=function(n,t,e){if(!t)return n;for(var r=0;r<t.length;r++){var o=t[r],i=null;i=e?T(n[o]):yuanToMinute(n[o]),o in n&&(n[o]=i)}},n.arrayDelOne=function(n,t,e){if(!n||!n.length)return n;var r=n.indexOf(t);if(-1===r)return n;if(e)return n.splice(r,1),n;var o=f(n);return o.splice(r,1),o},n.arrayFilterSame=function(n){if(n&&n.length){var t={},e=[];return n.forEach((function(n,r){t[n]||e.push(n),t[n]=n})),e}},n.arrayHasSame=function(n){if(!n||!n.length)return!1;for(var t={},e=!1,r=0;r<n.length;r++){var o=n[r];if(t[o]){e=!0;break}t[o]=o}return e},n.assignObj=F,n.beforeFieldsToRedux=k,n.beforeTrim=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.replace(/^\s+/g,"")},n.dateSplit=function(n,e){if(!n)return n;var r=c(n.split(" "),2),o=r[0],i=r[1];return e?t.createElement("span",null,o):t.createElement("span",null,o,t.createElement("br",null),i)},n.doneMaxDo=function(n,t){var e=0,r=[];return function(o){e+=1,r.push(o),e===n&&t&&t(r)}},n.downLoadFile=function(n,t){var e=function(n){var t=n.split(","),e=c(t,2),r=e[0],o=e[1],i="",a="";o?(a=o,i=t[0].substring(t[0].indexOf(":")+1,t[0].indexOf(";"))):(a=r,i="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");for(var u=atob(a),f=new Uint8Array(u.length),l=0;l<u.length;l++)f[l]=u.charCodeAt(l);return new Blob([f],{type:i})}(n),r=URL.createObjectURL(e),o=document.createElement("a");document.body.appendChild(o),o.style="display: none",o.href=r,o.download=t||"导入excel",o.click(),document.body.removeChild(o)},n.downLoadFileByBlob=function(n,t){var e=URL.createObjectURL(n),r=document.createElement("a");document.body.appendChild(r),r.style="display: none",r.href=e,r.download=t||"导入excel",r.click(),document.body.removeChild(r)},n.extendXprops=function(n,t,e){var r=A(n,"dataIndex");if(r[t]){var o=r[t].fieldProps["x-props"];r[t].fieldProps["x-props"]=u(u({},o),e)}},n.fen2wan=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=/[￥¥]/.test("".concat(n)),r=(Math.floor(parseInt(n,10)/1e6*10)/10).toFixed(t)-0;return e?"¥".concat(r):r},n.fen2yuan=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=/[￥¥]/.test("".concat(n)),r=(parseInt(n,10)/100).toFixed(t)-0;return e?"¥".concat(r):r},n.fenToWan=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!n)return n;var r=(n/1e6).toFixed(t);return"".concat(r).concat(e)},n.fieldsToData=function(n){var t={};return Object.keys(n).forEach((function(e){t[e]=n[e].value})),t},n.fieldsToRedux=function(n){return k(n,["touched","dirty"])},n.fileListTourlMap=function(n){return n&&n.length?n.map((function(n){return n.url||null})).filter((function(n){return n})):n},n.filterEmptyAttr=function(n){return w(n)?(Object.keys(n).forEach((function(t){S(n[t])&&delete n[t]})),n):n},n.filterRender=function(n,t){return S(n)?"--":t||n},n.findDataByKey=function(n,t){if(!t)return n;for(var e=t.split("."),r=n,o=0;o<e.length&&r[e[o]];o++)r=n[e[o]];return r},n.fixedZero=p,n.getFileTypeByName=function(n){var t=n.lastIndexOf(".");return n.slice(t)},n.getPageQuery=function(){return r.parse(window.location.href.split("?")[1])},n.getPlainNode=function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=[];return t.forEach((function(t){var o=t;o.path="".concat(e,"/").concat(o.path||"").replace(/\/+/g,"/"),o.exact=!0,o.children&&!o.component?r.push.apply(r,f(n(o.children,o.path))):(o.children&&o.component&&(o.exact=!1),r.push(o))})),r},n.getQueryPath=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.stringify(t);return e.length?"".concat(n,"?").concat(e):n},n.getRoutes=function(n,t){var e=Object.keys(t).filter((function(t){return 0===t.indexOf(n)&&t!==n}));return function(n){var t=[];t.push(n[0]);for(var e=function(e){(t=t.filter((function(t){return 1!==d(t,n[e])}))).every((function(t){return 3===d(t,n[e])}))&&t.push(n[e])},r=1;r<n.length;r+=1)e(r);return t}(e=e.map((function(t){return t.replace(n,"")}))).map((function(r){return u(u({exact:!e.some((function(n){return n!==r&&1===d(n,r)}))},t["".concat(n).concat(r)]),{},{key:"".concat(n).concat(r),path:"".concat(n).concat(r)})}))},n.getSearchFormProperties=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0,r=n.filter((function(n){return e?e(n.fieldProps,n):n.fieldProps})),o={};return r.forEach((function(n){var t=I(n,["title","dataIndex","fieldProps"]),e=u({dataIndex:t.dataIndex,name:t.dataIndex,title:t.title},t.fieldProps);o[e.dataIndex]=e})),u(u({},o),t)},n.getYuanStr=function(n,t){var e=t?"":" 元";if(!n)return"0.00".concat(e);var r="".concat(n).split("."),o=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return"".concat(o,".").concat(r[1]?"".concat(r[1],"00").substring(0,2):"00").concat(e)},n.isAntdPro=function(){return"preview.pro.ant.design"===window.location.hostname},n.isArr=m,n.isBool=O,n.isEmpty=S,n.isEmptyArr=function(n){if(m(n))return n.every((function(n){return S(n)}))},n.isFn=h,n.isImage=function(n){return/\w(\.gif|\.jpeg|\.png|\.jpg|\.bmp)/i.test(n)},n.isNum=j,n.isObj=w,n.isPlainObj=b,n.isRegExp=x,n.isStr=g,n.isUNaN=function(n){return""==="".concat(P(n))||isNaN(n)},n.isUrl=function(n){return y.test(n)},n.listPlusByKey=function(n){var t=[];return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=t.length?A(t,n):{},o=0;o<e.length;o++){var i=e[o];r[i[n]]||t.push(i)}return t}},n.mapSomeAttr=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2?arguments[2]:void 0;if(!n)return n;var r=Object.keys(t),o=function n(o,i){var a={};h(e)&&(a=e(i,o)||{});for(var u=0;u<r.length;u++)if(r[u]in o){var c=r[u],f=t[c],l=o[c];m(l)&&"all_connect"!==c?a[f]=l.map((function(t){return n(t,i+1)})):a[f]=l}return a};return m(n)?n.map((function(n){return o(n,1)})):o(n)},n.mapSomeAttrWithParents=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(!n)return n;var o={},i=Object.keys(t),a=function n(a,u,c){var l={},s=I(a,e);l.all_connect=c?[].concat(f(c),[s]):[s],o[a[r]]=l.all_connect;for(var p=0;p<i.length;p++)if(i[p]in a){var d=i[p],y=t[d],v=a[d];m(v)?l[y]=v.map((function(t){return n(t,u+1,l.all_connect)})):l[y]="".concat(v)}return l};return{backData:m(n)?n.map((function(n){return a(n,1)})):a(n),keyMap:o}},n.mapToObject=A,n.minuteToyuanStr=function(n,t){var e=t?"":" 元";if(!n)return"0.00".concat(e);var r="".concat(n/100).split("."),o=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return"".concat(o,".").concat(r[1]?"".concat(r[1],"00").substring(0,2):"00").concat(e)},n.pickAttr=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return m(n)?N(n,t):I(n,t)},n.pickSomeAttr=I,n.simplifyFileName=E,n.simplifyUrlMapToFileList=function(n,t){return n&&n.length?("string"==typeof n&&(n=[n]),n.map((function(n,e){if("string"!=typeof n)return n;var r={};return r.uid=10-e,r.status="done",r.name=E(n,t),r.url=n,r}))):n},n.strSplit=function(n,t){return"string"!=typeof n?n:n.length>t?"".concat(n.slice(0,t),"..."):n},n.stringifySome=function(n,t){if(w(n))return m(t)?t.forEach((function(t){w(n[t])&&(n[t]=JSON.stringify(n[t]))})):Object.keys(n).forEach((function(t){var e=n[t];w(e)&&(n[t]=JSON.stringify(e))})),n},n.transformServerDataForDefaultTreeData=function n(t){var e={},r=[],o=[];return e.title=t.name,e.value=t.token,e.key=t.token,e.children=[],t.childMenuDefList&&t.childMenuDefList.length&&(r=t.childMenuDefList.map((function(t){return n(t)}))),t.funList&&t.funList.length&&(o=t.funList.map((function(t){return n(t)}))),e.children=e.children.concat(r).concat(o),e},n.trim=P,n.trimFormValue=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e=u({},n);return Object.keys(e).forEach((function(n){t.indexOf(e[n])>-1||"string"==typeof e[n]&&(e[n]=P(e[n]))})),e},n.urlMapToFile=function(n){if("string"!=typeof n)return n;var t=n.lastIndexOf("/");return n.substring(t+1)},n.urlMapToFileList=function(n){return n&&n.length?("string"==typeof n&&(n=[n]),n.map((function(n,t){if("string"!=typeof n)return n;var e={},r=n.lastIndexOf("/");return e.uid=10-t,e.status="done",e.name=n.substring(r+1),e.url=n,e}))):n},n.validateFormListFields=function(n){if(!b(n))return null;var t=!1,e=[];return Object.keys(n).forEach((function(r){n[r].validateFields((function(n,r){n?(t=!0,e.push(u(u({},r),{},{error:t}))):e.push(u({},r))}))})),{error:t,values:e}},n.valuesToFileds=function(n){if(!n||!w(n))return n;var t={};return Object.keys(n).forEach((function(e){t[e]={value:n[e]}})),t},n.wrapperByFunc=function(n,t){var e={};return Object.keys(n).forEach((function(r){e[r]=t(n[r])})),e},n.wrapperByKey=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value",e={},r=Object.keys(n);return r.forEach((function(r){e[r]=i({},t,n[r])})),e},n.yuan2fen=function(n){var t=/[￥¥]/.test("".concat(n)),e=(100*+n).toFixed(0)-0;return t?"¥".concat(e):e},Object.defineProperty(n,"__esModule",{value:!0})}));
